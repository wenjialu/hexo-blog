
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <title>SmartBrain -  ç”¨ React åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">
<link rel="stylesheet", href="/hexo-blog/./css/style.css">
<link rel="shortcut icon", href="/hexo-blog/./favicon.ico">
<link rel="apple-touch-icon", href="/hexo-blog/./apple-touch-icon.png">

        
    
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    
    <link rel='stylesheet' href="/hexo-blog/./css/dracula.css">

    <meta name="generator" content="Hexo 5.4.0"></head>
    <body>
        <header class="al_header al_pos_fixed">
    <div class="al_header_container dis_flex_jcenter">
        <div class="al_header_container_left">
            <div class="al_header_site_title">
                <a href="/">Hi, It's Me! Irina Lu</a>
            </div>
        </div>

        <div class="dis_flex_jcenter">
            <div class="al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-menu"></use>
                </svg>
            </div>
        </div>
    </div>
</header>

        <div class="al_sidebar">

    <div class="al_sidebar_overlay al_full_cover"></div>

    <div class="al_pos_fixed al_sidebar_cnt">
        <div class="dis_flex_acenter al_sidebar_header">
            <h3>Hi, It's Me! Irina Lu</h3>
            <div class="al_sidebar_close al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-close"></use>
                </svg>
            </div>
        </div>

        <div class="al_sidebar_author_cnt">

            <div class="al_sidebar_author_info">
                <h4>wenjia lu</h4>
                <img class="al_sidebar_avatar" src="https://tva1.sinaimg.cn/large/008i3skNgy1gvp6392vmtj60lt0kq0wg02.jpg">
                <p>Wenjia's Tech Blog</p>
            </div>

            
                <div class="al_sidebar_contact_info">
                    <h4>GET IN TOUCH</h4>
                    <p>Contact Info description</p>

                    <div class="dis_flex al_sidebar_social_widget">
                        
                        
                            <div class="al_social_icon_cnt" data_link="https://www.facebook.com/facebook_username">
                                <svg class="al_social_icon" id="facebook">
                                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#icon_facebook"></use>
                                </svg>
                            </div>
                        

                        
                        
                            <div class="al_social_icon_cnt" data_link="https://www.instagram.com/instagram_username">
                                <svg class="al_social_icon" id="instagram">
                                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#icon_instagram"></use>
                                </svg>
                            </div>
                        

                        
                        

                        
                        
                            <div class="al_social_icon_cnt" data_link="https://www.github.com/github_username">
                                <svg class="al_social_icon" id="github">
                                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#icon_github"></use>
                                </svg>
                            </div>
                        

                        
                        
                    </div>
                </div>
            
        </div>
    </div>
</div>

        
    <div class="dis_flex_center al_lightbox_cnt al_full_cover">
        <img class="al_lightbox_img"/>
    </div>
    <div class="al_page_background dis_flex_center al_full_cover"></div>
    <div class="al_page_container">
        <div class="al_pos_ab al_fake_background"></div>
        <div class="al_main_container al_shadow al_main_page_container">
            <article class="al_article">
                <header>
                    <h1 class="al_page_title">
                        SmartBrain -  ç”¨ React åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™
                    </h1>
                    <div class="al_page_info dis_flex">
                        <div class="al_page_content_info">
                            December 22, 2021 07:12 AM
                        </div>

                        
                            <div class="al_page_content_info">
                                6.4k words
                            </div>
                        

                        
                            <div class="al_page_content_info">
                                31 minutes read
                            </div>
                        
                        <span class="tags"></span>
                    </div>
                </header>

                
                    <div class="al_page_content_outline">
                        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8-React-%E5%81%9A%E4%B8%80%E4%B8%AA%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E7%BD%91%E7%AB%99"><span class="toc-text">ç”¨ React åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-text">å¼•è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-text">æ•ˆæœå±•ç¤º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BA%90%E7%A0%81-%EF%BC%88hide%EF%BC%89"><span class="toc-text">æºç  ï¼ˆhideï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF"><span class="toc-text">å‰ç«¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C-%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD"><span class="toc-text">æ³¨å†Œ, ç™»å½•åŠŸèƒ½</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#css"><span class="toc-text">css</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2"><span class="toc-text">é¡µé¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC"><span class="toc-text">é¡µé¢è·³è½¬</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E7%85%A7%E7%89%87%E5%B9%B6%E8%AF%86%E5%88%AB"><span class="toc-text">ä¸Šä¼ ç…§ç‰‡å¹¶è¯†åˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Step-1-%E8%BE%93%E5%85%A5%E6%A1%86%EF%BC%8C%E6%8C%89%E9%92%AE%E6%A1%86%E5%AF%B9%E4%BA%8E%E8%BE%93%E5%85%A5%E7%9A%84%E8%AF%86%E5%88%AB"><span class="toc-text">Step 1. è¾“å…¥æ¡†ï¼ŒæŒ‰é’®æ¡†å¯¹äºè¾“å…¥çš„è¯†åˆ«</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step-2-%E8%83%BD%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87"><span class="toc-text">step 2. èƒ½ä¸Šä¼ å›¾ç‰‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step-3-%E5%B1%95%E7%A4%BA%E5%9B%BE%E7%89%87"><span class="toc-text">step 3. å±•ç¤ºå›¾ç‰‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step4%E8%83%BD%E8%AF%86%E5%88%AB%E5%9B%BE%E7%89%87"><span class="toc-text">step4èƒ½è¯†åˆ«å›¾ç‰‡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E6%A1%A3"><span class="toc-text">æŸ¥çœ‹æ–‡æ¡£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-text">ä¸‹è½½</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">ä½¿ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-1"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css-%E9%83%A8%E5%88%86"><span class="toc-text">css éƒ¨åˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Magic-1-tachyons"><span class="toc-text">Magic 1. tachyons</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Index-js-%E5%AF%BC%E5%85%A5"><span class="toc-text">Index.js å¯¼å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-text">ä½¿ç”¨ï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Naviation-js"><span class="toc-text">Naviation.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Magic-2-React-tilt-%EF%BC%88for-Logo%EF%BC%89"><span class="toc-text">Magic 2. React-tilt ï¼ˆfor Logoï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Magic-3-linear-gradient-for-background"><span class="toc-text">Magic 3. linear-gradient (for background)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Magic-4-Particles-js-for-background"><span class="toc-text">Magic 4. Particles.js  (for background)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Magic-5-css3-partern-gallery"><span class="toc-text">Magic 5. css3 partern gallery</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E8%BD%AC%E5%8C%96%E6%80%BB%E7%BB%93-%E2%AD%90%EF%B8%8F%E2%AD%90%EF%B8%8F%E2%AD%90%EF%B8%8F"><span class="toc-text">çŠ¶æ€è½¬åŒ–æ€»ç»“ â­ï¸â­ï¸â­ï¸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF"><span class="toc-text">åç«¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">å¼€å§‹æ­å»ºæœåŠ¡å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AA-smartbrain-api-%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">æ–°å»ºä¸€ä¸ª smartbrain-api æ–‡ä»¶å¤¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AE%E5%AE%9A%E5%90%8E%E7%AB%AF-api-%E5%85%83%E7%B4%A0-%E9%80%9A%E8%BF%87%E7%9C%8B%E4%B8%80%E4%B8%8B%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2"><span class="toc-text">ç¡®å®šåç«¯ api å…ƒç´  - é€šè¿‡çœ‹ä¸€ä¸‹å‰ç«¯é¡µé¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E6%AD%A5%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-text">åˆæ­¥çš„è®¾è®¡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-api-%E5%85%83%E7%B4%A0"><span class="toc-text">å®ç° api å…ƒç´ </span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#register"><span class="toc-text">register</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#signin"><span class="toc-text">signin</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#profile"><span class="toc-text">profile</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E5%AE%89%E5%85%A8%F0%9F%94%90"><span class="toc-text">ç”¨æˆ·å¯†ç å®‰å…¨ğŸ”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E4%B8%8A%E5%89%8D%E7%AB%AF"><span class="toc-text">è¿æ¥ä¸Šå‰ç«¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-text">æµ‹è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E6%94%B9%E5%86%99"><span class="toc-text">å‰ç«¯ä»£ç æ”¹å†™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E9%80%81%E6%95%B0%E6%8D%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">ä¼ é€æ•°æ®åˆ°æœåŠ¡å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%81%E8%AE%B8%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE"><span class="toc-text">å…è®¸è·¨åŸŸè®¿é—®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-text">æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-text">æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%A4%B1%E8%B4%A5%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">å¸¸è§å¤±è´¥çš„è§£å†³æ–¹æ¡ˆ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">æ•°æ®åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8"><span class="toc-text">å¯åŠ¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5"><span class="toc-text">è¿æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#knex"><span class="toc-text">knex</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2"><span class="toc-text">éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9"><span class="toc-text">å·¥å…·é€‰æ‹©</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E5%90%8E%E7%AB%AF"><span class="toc-text">éƒ¨ç½²åç«¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#heroku-%E5%88%9B%E5%BB%BAapp"><span class="toc-text">heroku åˆ›å»ºapp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E-GitHub-%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5"><span class="toc-text">ä¸ GitHub å»ºç«‹è¿æ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%88%90%E5%8A%9F%EF%BD%9E"><span class="toc-text">è¿æ¥æˆåŠŸï½</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E5%88%B0heroku"><span class="toc-text">ä¸Šä¼ åˆ°heroku</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Deploying-code"><span class="toc-text">Deploying code</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%88%90%E5%8A%9F%E4%BA%86%E6%B2%A1"><span class="toc-text">æŸ¥çœ‹æˆåŠŸäº†æ²¡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E5%89%8D%E7%AB%AF"><span class="toc-text">éƒ¨ç½²å‰ç«¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">éƒ¨ç½²æ•°æ®åº“</span></a></li></ol></li></ol></li></ol>
                    </div>
                

                
                <section id="post-body">
                    <p>[TOC]</p>
<h1 id="ç”¨-React-åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™"><a href="#ç”¨-React-åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™" class="headerlink" title="ç”¨ React åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™"></a>ç”¨ React åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™</h1><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>React å¯ä»¥è¯´æ˜¯è¿‘äº›å¹´æœ€çƒ­é—¨çš„å‰ç«¯æ¡†æ¶å•¦ï¼Œ å¹¶ä¸”éå¸¸éå¸¸çš„å¥½ç”¨ ~</p>
<p>å¾ˆå¤šçš„å›½å¤–å…¬å¸æ¯”å¦‚ <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Netflix">Netflix</a>ã€<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Feedly">Feedly</a>ã€<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Airbnb">Airbnb</a> éƒ½æ˜¯ç”¨å®ƒæ¥å®ç°çš„ç½‘ç«™ä¸»é¡µã€‚</p>
<p>é‚£ä¹ˆ React åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆå‘¢ï¼Ÿå®ƒå…¶å®æ˜¯ä¸€ä¸ªä¸ºæ•°æ®æä¾›æ¸²æŸ“ä¸º<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTML">HTML</a>è§†å›¾çš„<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6">å¼€æº</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/JavaScript%E5%87%BD%E5%BC%8F%E5%BA%93">JavaScript åº“</a>ã€‚ä¼ è¯´æœ€æ—©èµ·æºäºFacebook çš„å†…éƒ¨é¡¹ç›®ï¼Œç”±äºå¤ªå¥½ç”¨äº†ï¼Œå°±å¼€æºç»™å¤§å®¶ä½¿ç”¨äº†ã€‚</p>
<p>ç°åœ¨å›½å†…çš„å¾ˆå¤šå…¬å¸éƒ½åœ¨æ‹›è˜ä¼š React çš„å‰ç«¯å·¥ç¨‹å¸ˆã€‚è¯´æ˜å¦‚æœä¼šè¿™é¡¹æŠ€æœ¯è¿˜æ˜¯ä¼šå¾ˆåƒé¦™å“’ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€ä¹ˆå­¦ä¹ å®ƒå‘¢ï¼Ÿ </p>
<p><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/hello-world.html">å®˜æ–¹æ–‡æ¡£</a>å½“ç„¶æ˜¯ä¸€ä¸ªé€‰æ‹© ï½</p>
<p>é‡Œé¢æœ‰å®˜æ–¹äººå‘˜ç»™å‡ºçš„æœ€ä¸¥è°¨çš„å®šä¹‰å’Œæœ€å…¨çš„æ–¹æ³•è§£é‡Šï¼Œä¸€æ­¥ä¸€æ­¥è·Ÿç€å­¦çš„è¯åº”è¯¥ä¹Ÿèƒ½å­¦ä¼šã€‚</p>
<p>ä¸è¿‡ï¼Œç¨æ˜¾æœ‰é‚£ä¹ˆç‚¹ç‚¹æ¯ç‡¥å•¦ã€‚</p>
<p><strong>æƒ³è¦æ›´å¥½ç©çš„å­¦ä¹ æ–¹æ³•ï¼Œä¸å¦¨æ‰¾ä¸ªå°é¡¹ç›®æ¥ä¸Šæ‰‹å§ã€‚</strong></p>
<p>å› ä¸ºæ ¹æ®è®¤çŸ¥å¿ƒç†å­¦çš„ç†è®ºï¼Œå­¦ä¹ çš„æœ€å¥½æ–¹æ³•ä¹‹ä¸€å°±æ˜¯åº”ç”¨ ï½</p>
<p>åœ¨â€œåšä¸­å­¦â€ ä¼šæ¯”å•çº¯çš„ â€œçœ‹æ¦‚å¿µâ€ æ›´è®°å¿†æ·±åˆ»å“¦ ï½</p>
<p>æˆ‘ä¹‹å‰åœ¨åˆæ­¥å­¦ä¹  react çš„æ—¶å€™ï¼Œæœ‰å°è¯•ç‰›åˆ€ï¼Œ</p>
<p>åšäº†ä¸€ä¸ªæœºå™¨äººğŸ¤–ï¸ç½‘ç«™ï¼Œç½‘å€åœ¨è¿™é‡Œï¼š<a target="_blank" rel="noopener" href="https://rocky-hamlet-79784.herokuapp.com/">https://rocky-hamlet-79784.herokuapp.com/</a>  ã€‚æ•™ç¨‹åœ¨æ­¤ï¼š</p>
<p>ä»Šå¤©æƒ³æ•™å¤§å®¶ä¸€ä¸ªå‡çº§ç‰ˆï¼ï¼ï¼ä¸€ä¸ªå¯ä»¥æœ‰ç”¨æˆ·çš„äººè„¸è¯†åˆ«ç½‘ç«™ï½</p>
<h2 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h2><p><a target="_blank" rel="noopener" href="https://wenjia-smartbrain.herokuapp.com/">https://wenjia-smartbrain.herokuapp.com/</a> ï¼ˆè¿˜æ²¡å®Œå…¨å®Œæˆå¥½ï¼‰</p>
<p>ç”±äºæ•™ç¨‹ç¯‡å¹…è¿‡é•¿ï¼Œå°†ä¼šåˆ†æˆå››ä¸ªéƒ¨åˆ†ï¼šå‰ç«¯ç¯‡ã€åç«¯ç¯‡ã€æ•°æ®åº“ç¯‡ å’Œ éƒ¨ç½²ç¯‡ã€‚</p>
<p>è·Ÿç€æˆ‘ä¸€èµ·å­¦å®Œï¼Œä¸ä»…èƒ½æŒæ¡ react æ¡†æ¶çš„ä½¿ç”¨ï¼Œè¿˜èƒ½æ‹¥æœ‰ä¸€ä¸ªç‚«é…·çš„ç½‘ç«™å“¦ï½ï½</p>
<h2 id="æºç -ï¼ˆhideï¼‰"><a href="#æºç -ï¼ˆhideï¼‰" class="headerlink" title="æºç  ï¼ˆhideï¼‰"></a>æºç  ï¼ˆhideï¼‰</h2><p>Front end: <a target="_blank" rel="noopener" href="https://github.com/aneagoie/smart-brain">https://github.com/aneagoie/smart-brain</a></p>
<p>Back end: <a target="_blank" rel="noopener" href="https://github.com/aneagoie/smart-brain-api">https://github.com/aneagoie/smart-brain-api</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">Final project <span class="hljs-keyword">for</span> ZTM course<br><br>    Clone this repo<br>    Run npm install<br>    Run npm start<br>    You must add your own API key <span class="hljs-keyword">in</span> the src/App.js file to connect to Clarifai.<br><br>You can grab Clarifai API key here<br></code></pre></td></tr></table></figure>



<h2 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h2><p>å‰ç«¯çš„é¡µé¢æƒ³è®¾è®¡æˆè¿™æ ·ï¼š</p>
<p>![æœªå‘½åæ–‡ä»¶ (2)](/Users/lujiawen/Desktop/æœªå‘½åæ–‡ä»¶ (2).png)</p>
<p>é¦–é¡µå¯ä»¥æ‹†åˆ†æˆ3ä¸ªå…ƒç´ ï¼Œ åˆ†åˆ«æ˜¯ç™»å½•ã€æ³¨å†Œã€å¯¼èˆªæ ã€‚</p>
<p>é‚£å°±æ¯ä¸ªå…ƒç´ åšæˆä¸€ä¸ªç»„ä»¶ã€‚</p>
<p>ç™»å½•åçš„é¡µé¢</p>
<p>![æœªå‘½åæ–‡ä»¶ (1)](/Users/lujiawen/Desktop/æœªå‘½åæ–‡ä»¶ (1).png)</p>
<p>å¯ä»¥æ‹†åˆ†æˆ4 ä¸ªæ¨¡å—ã€‚é™¤å»å¯¼èˆªæ ï¼Œè¿˜æœ‰logoã€æœç´¢æ¡†ã€é¢éƒ¨è¯†åˆ«åŠŸèƒ½åŒºã€‚</p>
<p>è®¾è®¡componentï¼Œå¹¶æ”¾åœ¨app.jsä¸­ ã€‚</p>
<p>tipsï¼šapp.jsä¸­çš„å¤šä¸ª components è¦æ”¾åœ¨ <div></div> é‡Œé¢å“¦ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext"><br>function App() &#123;<br>  return (<br>    &lt;div&gt;<br>       &lt;Navigation /&gt;<br>       &lt;Logo /&gt; <br>        &lt;ImageLinkForm/&gt;<br>        &lt;FaceRecognition /&gt;<br><br>    &lt;/div&gt;<br><br>  );<br>&#125;<br><br></code></pre></td></tr></table></figure>







<h3 id="æ³¨å†Œ-ç™»å½•åŠŸèƒ½"><a href="#æ³¨å†Œ-ç™»å½•åŠŸèƒ½" class="headerlink" title="æ³¨å†Œ, ç™»å½•åŠŸèƒ½"></a>æ³¨å†Œ, ç™»å½•åŠŸèƒ½</h3><h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><p>Google æœç´¢ tachyons + forms,  tachyons + card åŠ ä¸ªè¾¹æ¡†</p>
<p>é¡µé¢é¢„è§ˆå’Œä»£ç éƒ½æœ‰å•¦ï½ï½</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> Signin = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span>(<br>        <span class="hljs-comment">// è¿™é‡Œæ”¾htmlä»£ç , </span><br>       <span class="hljs-comment">//ä¸è¿‡è®°å¾—æŠŠinput åƒè¿™æ · /&gt; close æ‰. for è¦æ”¹æˆhtmlFor, class æ”¹æˆ className</span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;center br3 ba b--black-10 mv4 w-100 w-50-m w-25-l shadow-5 mw6 center&quot;</span>&gt;</span></span><br><span class="xml">        ...</span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">article</span> /&gt;</span>  </span><br><span class="xml">    )</span><br><span class="xml">&#125;</span><br><span class="xml"></span><br><span class="xml">export default Signin;</span><br></code></pre></td></tr></table></figure>

<p>è‡ªè¡Œåˆ åˆ æ”¹æ”¹</p>
<h4 id="é¡µé¢"><a href="#é¡µé¢" class="headerlink" title="é¡µé¢"></a>é¡µé¢</h4><p>App.js</p>
<p>åŠŸèƒ½ï¼š æ²¡ signin ä¹‹å‰æ˜¯signin é¡µé¢ï¼Œ signin ä¹‹åæ˜¯rank+ä¸Šä¼ image é¡µé¢ã€‚</p>
<p>å®ç°ï¼š constructor()</p>
<p>tips:  jsxè¯­æ³•ï¼š html é‡ŒåŠ äº†{  } å°±å¯ä»¥å†™ js äº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">super</span>()<br>    <span class="hljs-built_in">this</span>.state = &#123;<br>      <span class="hljs-attr">input</span>: <span class="hljs-string">&quot;&quot;</span>,<br>      <span class="hljs-attr">route</span>: <span class="hljs-string">&quot;signin&quot;</span><br>    &#125;<br>  &#125;<br><br><br><span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">Navigation</span> /&gt;</span></span><br><span class="xml">         &#123; this.state.route === &quot;signin&quot;</span><br><span class="xml">          ?  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&lt; Signin /&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>          :  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> </span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Logo</span> /&gt;</span> </span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Rank</span> /&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">ImageLinkForm</span> <span class="hljs-attr">onInputChange</span>=<span class="hljs-string">&#123;this.onInputChange&#125;</span> <span class="hljs-attr">onButtonSubmit</span>=<span class="hljs-string">&#123;this.onButtonSubmit&#125;/</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">FaceRecognition</span> /&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Particles</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;particles&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">                  <span class="hljs-attr">params</span>=<span class="hljs-string">&#123;particleOptions&#125;</span></span></span><br><span class="hljs-tag"><span class="xml">                /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>         &#125;   <br>      &lt;/div&gt;<br>  <br>    );<br>    &#125;<br>  &#125;<br>   <br><br></code></pre></td></tr></table></figure>

<p>åŒç†ï¼Œæ–°å»º register é¡µé¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">// æ–°å¢ä»£ç <br> &lt;div className=&quot;mt3&quot;&gt;<br>                &lt;label className=&quot;db fw6 lh-copy f6&quot; htmlFor=&quot;name&quot;&gt;Name&lt;/label&gt;<br>                &lt;input<br>                  className=&quot;pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100&quot;<br>                  type=&quot;text&quot;<br>                  name=&quot;name&quot;<br>                  id=&quot;name&quot;<br>                  onChange=&#123;this.onNameChange&#125;<br>                /&gt;<br>              &lt;/div&gt;<br></code></pre></td></tr></table></figure>





<h4 id="é¡µé¢è·³è½¬"><a href="#é¡µé¢è·³è½¬" class="headerlink" title="é¡µé¢è·³è½¬"></a>é¡µé¢è·³è½¬</h4><p>è®¾ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">constructor()&#123;<br>    super()<br>    this.state = &#123;<br>      input: &quot;&quot;,<br>      route: route<br>      // route: &quot;signin&quot;<br>    &#125;<br>  &#125;<br>  <br>  <br>  onRouteChange = (route) =&gt; &#123;<br>    this.setState(&#123;route: route&#125;);<br>  &#125;<br><br>render() &#123;<br>    return (<br>      &lt;div className=&quot;App&quot;&gt;<br>         &lt;Navigation onRouteChange = &#123;this.onRouteChange&#125;/&gt;<br>         &#123; this.state.route === &quot;signin&quot;<br>          ?  &lt;div&gt;<br>              &lt;Signin /&gt;<br>              &lt;Particles className=&quot;particles&quot;<br>                    params=&#123;particleOptions&#125; /&gt;<br>              &lt;/div&gt;<br>          :  &lt;div&gt; <br>              &lt;Logo /&gt; <br>              &lt;Rank /&gt;<br>              &lt;ImageLinkForm onInputChange=&#123;this.onInputChange&#125; onButtonSubmit=&#123;this.onButtonSubmit&#125;/&gt;<br>              &lt;FaceRecognition /&gt;<br>              &lt;Particles className=&quot;particles&quot;<br>                    params=&#123;particleOptions&#125;<br>                /&gt;&lt;/div&gt;<br>         &#125;   <br>      &lt;/div&gt;<br>  <br>    );<br>    &#125;<br></code></pre></td></tr></table></figure>







<p>æ·»åŠ ï¼šæ€è·¯ï¼›éœ€è¦è·³è½¬åˆ°ä»€ä¹ˆé¡µé¢ï¼Œ onRouteChange(param)}ï¼Œ paramå°±å†™ä»€ä¹ˆå‚æ•°ã€‚</p>
<p>tipsï¼š åƒä¸‡åˆ«å¿˜äº†åœ¨å‡½æ•°å¤´ä¼ å‚{onRouteChange} ï¼ï¼ï¼ï¼ï¼</p>
<p>Navigation.js  (signout button)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">onClick=&#123;(&#123;onRouteChange&#125;) =&gt; onRouteChange(&quot;signin&quot;)&#125;<br></code></pre></td></tr></table></figure>



<p>Signin.js </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">// åƒä¸‡åˆ«å¿˜äº†ä¼ å‚&#123;onRouteChange&#125; ï¼ï¼ï¼ï¼ï¼<br>// ç®­å¤´å‡½æ•°ï¼šrenderçš„æ—¶å€™ä¸è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåªæœ‰å½“onClickçš„æ—¶å€™æ‰è°ƒç”¨<br>//            onClick = &#123;() =&gt; onRouteChange(&quot;rankpage&quot;)&#125;<br>            <br>     &lt;div class=&quot;&quot;&gt;<br>            &lt;input <br>            // ç®­å¤´å‡½æ•°ï¼šrenderçš„æ—¶å€™ä¸è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåªæœ‰å½“onClickçš„æ—¶å€™æ‰è°ƒç”¨<br>            onClick = &#123;() =&gt; onRouteChange(&quot;rankpage&quot;)&#125;<br>            className=&quot;b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib&quot; <br>            type=&quot;submit&quot; <br>            value=&quot;Sign in&quot; /&gt;<br>            &lt;/div&gt;<br>            &lt;div class=&quot;lh-copy mt3&quot;&gt;<br>            &lt;a onClick = &#123;() =&gt; onRouteChange(&quot;register&quot;)&#125; href=&quot;#0&quot; className=&quot;f6 link dim black db&quot;&gt;Register&lt;/a&gt;<br>                        &lt;/div&gt;       <br>            <br></code></pre></td></tr></table></figure>



<p>Register</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">&lt;input <br>  // ç®­å¤´å‡½æ•°ï¼šrenderçš„æ—¶å€™ä¸è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåªæœ‰å½“onClickçš„æ—¶å€™æ‰è°ƒç”¨<br>  onClick = &#123;() =&gt; onRouteChange(&quot;signin&quot;)&#125;<br>  className=&quot;b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib&quot; <br>  type=&quot;submit&quot; <br>  value=&quot;Register&quot; /&gt;<br>  &lt;/div&gt;<br></code></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="ä¸Šä¼ ç…§ç‰‡å¹¶è¯†åˆ«"><a href="#ä¸Šä¼ ç…§ç‰‡å¹¶è¯†åˆ«" class="headerlink" title="ä¸Šä¼ ç…§ç‰‡å¹¶è¯†åˆ«"></a>ä¸Šä¼ ç…§ç‰‡å¹¶è¯†åˆ«</h3><ol>
<li><p>è¯†åˆ«è¾“å…¥æ¡†çš„å†…å®¹ï¼ˆurlï¼‰ï¼š è®¾ç½®stateï¼šinput</p>
</li>
<li><p>Detect æŒ‰é’®è¯†åˆ«è¾“å…¥æ¡†çš„å›¾ç‰‡urlï¼šimagelinkform component(oninputchange + onbuttonsubmit)ã€‚</p>
</li>
<li><p>åœ¨è¾“å…¥æ¡†ä¸‹æ–¹å±•ç¤ºurlä¸­çš„ç…§ç‰‡ï¼šFaceRecognition component.</p>
</li>
<li><p>è¯†åˆ«ç…§ç‰‡ä¸­çš„äººè„¸ï¼šclarifai</p>
</li>
<li><p>æ ‡ç¤ºäººè„¸ï¼šæŸ¥çœ‹ clarifai çš„ response â€“&gt;å†™å…¥åˆ° FaceRecognition component.</p>
</li>
</ol>
<h4 id="Step-1-è¾“å…¥æ¡†ï¼ŒæŒ‰é’®æ¡†å¯¹äºè¾“å…¥çš„è¯†åˆ«"><a href="#Step-1-è¾“å…¥æ¡†ï¼ŒæŒ‰é’®æ¡†å¯¹äºè¾“å…¥çš„è¯†åˆ«" class="headerlink" title="Step 1. è¾“å…¥æ¡†ï¼ŒæŒ‰é’®æ¡†å¯¹äºè¾“å…¥çš„è¯†åˆ«"></a>Step 1. è¾“å…¥æ¡†ï¼ŒæŒ‰é’®æ¡†å¯¹äºè¾“å…¥çš„è¯†åˆ«</h4><p>App.js è®¾ç½® state,å¹¶æ¸²æŸ“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">constructor()&#123;<br>    super()<br>    this.state = &#123;<br>      input: &quot;&quot;<br>    &#125;<br>  &#125;<br><br>  onInputChange = (event) =&gt; &#123;<br>    console.log(event.target.value);<br>  &#125;<br><br>  onButtonSubmit = () =&gt; &#123;<br>    console.log(&quot;click&quot;);<br>  &#125;<br>  <br>render() &#123;<br>    return (<br>      &lt;div className=&quot;App&quot;&gt;<br>  <br>          &lt;ImageLinkForm onInputChange=&#123;this.onInputChange&#125; onButtonSubmit=&#123;this.onButtonSubmit&#125;/&gt;<br>         <br>      &lt;/div&gt;<br>  <br>    );<br>    &#125;  <br></code></pre></td></tr></table></figure>





<p>ImageLinkForm.js</p>
<p>ä¼ å‚ï¼Œç”¨å‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">&lt;input className=&quot;f4 pa2 w-70 center&quot; type=&quot;text&quot; onChange=&#123;onInputChange&#125;/&gt;<br> &lt;button className=&quot;w-30 grow f4 link ph3 pv2 dib white bg-light-purple&quot; <br>                   onClick = &#123;onButtonSubmit&#125;&gt;Detect&lt;/button&gt;<br>           <br></code></pre></td></tr></table></figure>



<h4 id="step-2-èƒ½ä¸Šä¼ å›¾ç‰‡"><a href="#step-2-èƒ½ä¸Šä¼ å›¾ç‰‡" class="headerlink" title="step 2. èƒ½ä¸Šä¼ å›¾ç‰‡"></a>step 2. èƒ½ä¸Šä¼ å›¾ç‰‡</h4><p>è°ƒç”¨äººå®¶å·²ç»åšå¥½çš„api</p>
<p>clarifai ï¼ˆ<a target="_blank" rel="noopener" href="https://www.clarifai.com/%EF%BC%89">https://www.clarifai.com/ï¼‰</a></p>
<p>æ³¨å†Œä¸€ä¸ªè´¦æˆ·å°±èƒ½å…è´¹ç”¨äº†</p>
<h4 id="step-3-å±•ç¤ºå›¾ç‰‡"><a href="#step-3-å±•ç¤ºå›¾ç‰‡" class="headerlink" title="step 3. å±•ç¤ºå›¾ç‰‡"></a>step 3. å±•ç¤ºå›¾ç‰‡</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">const FaceRecognition = (&#123; imageUrl, box &#125;) =&gt; &#123;<br>    return (<br>      &lt;div className=&#x27;center ma&#x27;&gt;<br>  <br>      &lt;div className=&#x27;absolute mt2&#x27;&gt;<br>        &#123;/* ä¸‹é¢è¿™è¡Œæ˜¯å…³é”®çš„ä»£ç ï¼Œé€šè¿‡srcå±•ç¤ºurlå¯¹åº”çš„å›¾ç‰‡ */&#125; &#123;/* widthï¼Œ heightå›ºå®šå›¾ç‰‡å¤§å° */&#125;<br>        &lt;img id=&#x27;inputimage&#x27; alt=&#x27;&#x27; src=&#123;imageUrl&#125; width=&#x27;500px&#x27; heigh=&#x27;auto&#x27;/&gt;<br>        &#123;/* æ ‡ç¤ºäººè„¸ */&#125;<br>        &lt;div className=&#x27;bounding-box&#x27; style=&#123;&#123;top: box.topRow, right: box.rightCol, bottom: box.bottomRow, left: box.leftCol&#125;&#125;&gt;&lt;/div&gt;<br>      &lt;/div&gt;<br>    &lt;/div&gt;<br>    );<br>  &#125;<br></code></pre></td></tr></table></figure>



<h4 id="step4èƒ½è¯†åˆ«å›¾ç‰‡"><a href="#step4èƒ½è¯†åˆ«å›¾ç‰‡" class="headerlink" title="step4èƒ½è¯†åˆ«å›¾ç‰‡"></a>step4èƒ½è¯†åˆ«å›¾ç‰‡</h4><p>è°ƒç”¨äººå®¶å·²ç»åšå¥½çš„api, æ³¨å†Œä¸€ä¸ªè´¦æˆ·å°±èƒ½å…è´¹ç”¨äº†</p>
<h5 id="æŸ¥çœ‹æ–‡æ¡£"><a href="#æŸ¥çœ‹æ–‡æ¡£" class="headerlink" title="æŸ¥çœ‹æ–‡æ¡£"></a>æŸ¥çœ‹æ–‡æ¡£</h5><p>clarifai ï¼ˆ<a target="_blank" rel="noopener" href="https://www.clarifai.com/%EF%BC%89">https://www.clarifai.com/ï¼‰</a></p>
<p>Model-&gt;face dectection = <a target="_blank" rel="noopener" href="https://www.clarifai.com/models/face-detection">https://www.clarifai.com/models/face-detection</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">https://clarifai.com/developer/<br>docs.clarifai.com/api-guide/predict/images<br></code></pre></td></tr></table></figure>

<p>Googleï¼šnpm clarifai -&gt; GitHub æºç  -&gt; é‡Œé¢æœ‰æ‰€æœ‰çš„æ¨¡å‹</p>
<h5 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h5><p>npm install clarifai</p>
<h5 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">const Clarifai = require(&#x27;clarifai&#x27;);<br><br>//You must add your own API key here from Clarifai. <br><br>const app = new Clarifai.App(&#123;<br><br> apiKey: &#x27;æ³¨å†Œåå°±æœ‰äº†&#x27;<br><br>&#125;);<br><br>...é™¤äº†äººè„¸è¯†åˆ«ï¼Œè¿˜å¯ä»¥ä½¿ç”¨clarifaiä¸Šä¸åŒçš„æ¨¡å‹åšä¸åŒçš„äº‹æƒ…ï¼ˆè¯†åˆ«è‰²å½©ï¼Œç†è§£å›¾ç‰‡ï¼Œè¯†åˆ«è§†é¢‘ã€‚ã€‚ã€‚ï¼‰<br><br></code></pre></td></tr></table></figure>



<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h3 id="css-éƒ¨åˆ†"><a href="#css-éƒ¨åˆ†" class="headerlink" title="css éƒ¨åˆ†"></a>css éƒ¨åˆ†</h3><p>å› ä¸ºè¦èŠ±å¥½å¤šæ—¶é—´è°ƒè¯•å¥½çœ‹çš„æ ·å¼ï¼Œè€Œæ ·å¼ä¼šæ ¹æ®é¡¹ç›®çš„ä¸åŒè€Œè¿›è¡Œå¾ˆå¤§çš„è°ƒæ•´ã€‚</p>
<p>æ‰€ä»¥è¿™é‡Œå…·ä½“æ ·å¼å°±ç›´æ¥ç»™å¤§å®¶äº†ï¼Œå°±ä¸ç”¨èŠ±å¤ªå¤šæ—¶é—´çº ç»“æ ·å¼äº†ã€‚</p>
<h4 id="Magic-1-tachyons"><a href="#Magic-1-tachyons" class="headerlink" title="Magic 1. tachyons"></a>Magic 1. tachyons</h4><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">npm install tachyons<br>npm tachyons<br><br></code></pre></td></tr></table></figure>

<h5 id="Index-js-å¯¼å…¥"><a href="#Index-js-å¯¼å…¥" class="headerlink" title="Index.js å¯¼å…¥"></a>Index.js å¯¼å…¥</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">import &quot;tachyons&quot;;<br></code></pre></td></tr></table></figure>

<h5 id="ä½¿ç”¨ï¼š"><a href="#ä½¿ç”¨ï¼š" class="headerlink" title="ä½¿ç”¨ï¼š"></a>ä½¿ç”¨ï¼š</h5><h6 id="Naviation-js"><a href="#Naviation-js" class="headerlink" title="Naviation.js"></a>Naviation.js</h6><p>Q: æ˜¯æ€ä¹ˆçŸ¥é“é‡Œé¢çš„æ ·å¼å‘¢ã€‚</p>
<p>A:</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://tachyons.io/#style">https://tachyons.io/#style</a> style guide</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">&lt;nav style = &#123;&#123;display: &quot;flex&quot;, justifyContent: &quot;flex-end&quot;&#125;&#125;&gt;<br>     &lt;p className=&quot;f3 link dim black underline pa3 pointer&quot;&gt;Sign Out&lt;/p&gt;<br>   &lt;/nav&gt;<br></code></pre></td></tr></table></figure>

<p>é•¿è¿™æ ·ï¼š</p>
<p>![image-20201120171507674](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201120171507674.png)</p>
<ol start="2">
<li><p>Google æœç´¢ tachyons + å…³é”®è¯</p>
<p>eg. tachyons  form</p>
<p>é¡µé¢é¢„è§ˆå’Œä»£ç éƒ½æœ‰å•¦ï½ï½</p>
</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> Signin = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span>(<br>        <span class="hljs-comment">// è¿™é‡Œæ”¾htmlä»£ç , ä¸è¿‡è®°å¾—æŠŠinput åƒè¿™æ · /&gt; close æ‰. for è¦æ”¹æˆhtmlFor</span><br>        ...<br>    )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Signin;<br></code></pre></td></tr></table></figure>


<p>   ![image-20201202211043579](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201202211043579.png)</p>
<p>Ps. å…³äºclassName.</p>
<p>è‡ªå·±åœ¨app.css logo.css é‡Œé¢å®šä¹‰çš„class ä¹Ÿå¯ä»¥ç”¨className å¼•ç”¨</p>
<figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.center</span>&#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>&#125;<br></code></pre></td></tr></table></figure>





<h4 id="Magic-2-React-tilt-ï¼ˆfor-Logoï¼‰"><a href="#Magic-2-React-tilt-ï¼ˆfor-Logoï¼‰" class="headerlink" title="Magic 2. React-tilt ï¼ˆfor Logoï¼‰"></a>Magic 2. React-tilt ï¼ˆfor Logoï¼‰</h4><p>React-tilt library å¯ä»¥æœ‰ç‚«é…·çš„äº¤äº’ã€‚</p>
<p>å»å®ƒçš„ç½‘ç«™ä¸Šçœ‹å®‰è£…å’Œä½¿ç”¨æ–¹å¼ï¼Œç›´æ¥å¤åˆ¶å°±èƒ½ç”¨äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">npm install --save react-tilt<br></code></pre></td></tr></table></figure>

<p>å¥½å¯çˆ±ï¼Œå–œæ¬¢</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">import Tilt from &#x27;react-tilt&#x27;<br> <br>&lt;Tilt className=&quot;Tilt&quot; options=&#123;&#123; max : 25 &#125;&#125; style=&#123;&#123; height: 250, width: 250 &#125;&#125; &gt;<br> &lt;div className=&quot;Tilt-inner&quot;&gt; ğŸ‘½ &lt;/div&gt;<br>&lt;/Tilt&gt;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥åŠ ä¸€äº›cssæ ·å¼</p>
<p>ç„¶åæŠŠğŸ‘½æ¢æˆè‡ªå·±çš„logo ï¼ˆæ²¡æœ‰çš„è¯å»Googleä¸€ä¸ªå…è´¹çš„ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">import brain from &quot;./xx.png&quot;;<br><br>&lt;img alt=&quot;logo&quot; src=&#123;brain&#125; /&gt;<br></code></pre></td></tr></table></figure>



<h4 id="Magic-3-linear-gradient-for-background"><a href="#Magic-3-linear-gradient-for-background" class="headerlink" title="Magic 3. linear-gradient (for background)"></a>Magic 3. linear-gradient (for background)</h4><p>è‡ªå·±å»Googleä¸€ä¸ªå¥½çœ‹çš„linear-gradientã€‚</p>
<p>Index.css (indexçš„æ ·å¼ä¼šå½±å“æ•´ä¸ªé¡¹ç›®)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">body &#123;<br>  margin: 0;<br>  padding: 0;<br>  font-family: sans-serif;<br>  background: linear-gradient(89deg, #e66465 0% , #9198e5 100%);<br>&#125;<br>/* linear-gradient(89deg, #FF5EDF 0%, #04C8DE 100%); */<br><br>/* æ‰‹æŒ‡ */<br>button&#123;<br>  cursor: pointer;<br><br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="Magic-4-Particles-js-for-background"><a href="#Magic-4-Particles-js-for-background" class="headerlink" title="Magic 4. Particles.js  (for background)"></a>Magic 4. Particles.js  (for background)</h4><p>è¶…ç‚«é…·ï¼ï¼ï¼ï¼åŠ¨æ€èƒŒæ™¯</p>
<p>react ç‰ˆæœ¬ï¼š æœç´¢  react Particles npm</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">npm install react-particles-js<br></code></pre></td></tr></table></figure>

<p>app.css </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext"><br>.particles&#123;<br>  position: fixed; <br>  top: 0;<br>  right: 0;<br>  bottom: 0;<br>  left: 0;<br>  /* è¿™æ ·å°±èƒ½ä¸è¦†ç›–å…¶ä»–å±‚äº† */<br>  z-index: -1;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>app.js </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">const particleOptions = &#123;<br>  particles: &#123;<br>    number:&#123;<br>      value: 200,<br>      density: &#123;<br>        enable: true,<br>        value_are: 800<br>      &#125;<br>    &#125;<br>    // ,<br>      // shape: &#123;<br>      //     type: &#x27;images&#x27;,<br>      //     image: [<br>      //         &#123;src: &#x27;path/to/first/image.svg&#x27;, height: 20, width: 20&#125;,<br>      //         &#123;src: &#x27;path/to/second/image.jpg&#x27;, height: 20, width: 20&#125;,<br>      //     ]<br>      // &#125;<br>  &#125;<br>&#125;<br><br><br>åœ¨renderé‡Œé¢ç¬¬ä¸€ä¸ªä½¿ç”¨è¿™ä¸ªæ¨¡å—ã€‚<br></code></pre></td></tr></table></figure>



<p>å‚æ•°å†ç ”ç©¶ä¸‹è®©ä»–èƒ½äº’åŠ¨ï¼</p>
<h4 id="Magic-5-css3-partern-gallery"><a href="#Magic-5-css3-partern-gallery" class="headerlink" title="Magic 5. css3 partern gallery"></a>Magic 5. css3 partern gallery</h4><p><a target="_blank" rel="noopener" href="http://projects.verou.me/css3patterns/">http://projects.verou.me/css3patterns/</a></p>
<p>#### </p>
<p>ps. å…³äº <code>&lt;React.StrictMode&gt;&lt;/React.StrictMode&gt;</code></p>
<p>In index.js change <code>&lt;React.StrictMode&gt;&lt;App /&gt;&lt;/React.StrictMode&gt;</code> to <code>&lt;App /&gt;</code> and you will not see this warning. Please note that strict mode helps you with</p>
<ul>
<li>Identifying components with unsafe lifecycles</li>
<li>Warning about legacy string ref API usage</li>
<li>Warning about deprecated findDOMNode usage</li>
<li>Detecting unexpected side effects</li>
<li>Detecting legacy context API</li>
</ul>
<p>Please refer to <a target="_blank" rel="noopener" href="https://reactjs.org/docs/strict-mode.html">https://reactjs.org/docs/strict-mode.html</a> before removing it.</p>
<h3 id="çŠ¶æ€è½¬åŒ–æ€»ç»“-â­ï¸â­ï¸â­ï¸"><a href="#çŠ¶æ€è½¬åŒ–æ€»ç»“-â­ï¸â­ï¸â­ï¸" class="headerlink" title="çŠ¶æ€è½¬åŒ–æ€»ç»“ â­ï¸â­ï¸â­ï¸"></a>çŠ¶æ€è½¬åŒ–æ€»ç»“ â­ï¸â­ï¸â­ï¸</h3><p>(å¯ä»¥æ”¾åˆ° react æ•™ç¨‹ä¸­)</p>
<p>App.js</p>
<p>1 è®¾ç½® constructor: åˆ›å»ºstate, åˆå§‹å€¼å¯ä»¥éšä¾¿è®¾ä¸å½±å“ï¼ˆå› ä¸ºç›®çš„æ˜¯åˆ›å»ºå‡ºstateï¼Œåˆå§‹å€¼ä¸æ˜¯å¾ˆé‡è¦ï¼‰ï¼Œæ¯”å¦‚è®¾ç½®ç©ºâ€œâ€</p>
<p>tipsï¼šjsé‡Œé¢å¸ƒå°”å€¼falseæ‰æ˜¯Fï¼Œ å­—ç¬¦ä¸²â€œfalseâ€æ˜¯Tã€‚æ‰€ä»¥ä¸èƒ½åŠ å¼•å·å“¦ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext"># éœ€è¦æ—¶è¦ä¼  props <br>constructor()&#123;<br>    super()<br>    this.state = &#123;<br>      input: &quot;&quot;,<br>      route: &quot;swf&quot;,<br>      isSignedIn:false<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>



<p>2 è®¾ç½®äº‹ä»¶å‡½æ•°ï¼š</p>
<p>å‡½æ•°åŠŸèƒ½ï¼šsetState</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">onRouteChange = (route) =&gt; &#123;<br>   if (route === &#x27;signout&#x27;) &#123;<br>     this.setState(&#123;isSignedIn: false&#125;)<br>   &#125; else if (route === &#x27;rankpage&#x27;) &#123;<br>     this.setState(&#123;isSignedIn: true&#125;)<br>   &#125;<br><br>   this.setState(&#123;route: route&#125;);<br> &#125;<br></code></pre></td></tr></table></figure>



<p>å‡½æ•°åŠŸèƒ½ï¼šè”ç³»åç«¯</p>
<p>ps. This.props è¡¨ç¤ºå…¨å±€éƒ½èƒ½ç”¨å•¦ï½</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext"><br>// ç®­å¤´å‡½æ•°ï¼šrenderçš„æ—¶å€™ä¸è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåªæœ‰å½“onClickçš„æ—¶å€™æ‰è°ƒç”¨<br>onSubmitSignIn = () =&gt; &#123;<br>    fetch(&quot;http://localhost:3000/signin&quot;,<br>    &#123;<br>        method:&quot;post&quot;,<br>        headers:&#123;&quot;Content-Type&quot;:&quot;application/json&quot;&#125;,<br>        body:JSON.stringify(&#123;<br>            name: this.state.name,<br>            email: this.state.email,<br>            password: this.state.password<br>        &#125;)<br>            .then(response =&gt; response.json())<br>            // ä¼ å‚ï¼Œä¼ user<br>            .then(user =&gt;&#123;<br>                if (user.id)&#123;<br>                    this.props.loadUser(user)<br>                    this.props.onRouteChange(&quot;rankpage&quot;)<br>                &#125;<br>            &#125;)<br>    &#125;)<br>    console.log(this.state);<br>&#125;<br><br></code></pre></td></tr></table></figure>







<p>3 æ¸²æŸ“ </p>
<p>Tips: onRouteChange æ˜¯å‡½æ•°ï¼Œè°ƒç”¨çš„æ—¶å€™è¦this.onRouteChange</p>
<p>isSignedIn æ˜¯çŠ¶æ€ï¼Œè°ƒç”¨çš„æ—¶å€™è¦this.state.isSignedIn</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">&lt;Navigation isSignedIn = &#123;this.state.isSignedIn&#125; onRouteChange = &#123;this.onRouteChange&#125;/&gt;<br></code></pre></td></tr></table></figure>



<p>Component </p>
<p>æ ¹æ®å…·ä½“æƒ…å†µè°ƒç”¨å‡½æ•°ä¼ å‚ï¼Œä»¥ä¾›æ¸²æŸ“</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Navigation</span>(<span class="hljs-params">&#123;onRouteChange, isSignedIn&#125;</span>) </span>&#123;<br>      <span class="hljs-keyword">if</span> (isSignedIn)&#123;<br>        <span class="hljs-keyword">return</span> (<br>          <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">style</span> = <span class="hljs-string">&#123;&#123;display:</span> &quot;<span class="hljs-attr">flex</span>&quot;, <span class="hljs-attr">justifyContent:</span> &quot;<span class="hljs-attr">flex-end</span>&quot;&#125;&#125;&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> onRouteChange(&quot;signout&quot;)&#125; className=&quot;f3 link dim black underline pa3 pointer&quot;&gt;Sign Out<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>)<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> (<br>            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">style</span> = <span class="hljs-string">&#123;&#123;display:</span> &quot;<span class="hljs-attr">flex</span>&quot;, <span class="hljs-attr">justifyContent:</span> &quot;<span class="hljs-attr">flex-end</span>&quot;&#125;&#125;&gt;</span></span><br><span class="xml">              <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> onRouteChange(&quot;signin&quot;)&#125; className=&quot;f3 link dim black underline pa3 pointer&quot;&gt;Sign in<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  </span><br><span class="xml">              <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> onRouteChange(&quot;register&quot;)&#125; className=&quot;f3 link dim black underline pa3 pointer&quot;&gt;Register<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml">           </span><br><span class="xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>);         <br>      &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>





<h2 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h2><h3 id="å¼€å§‹æ­å»ºæœåŠ¡å™¨"><a href="#å¼€å§‹æ­å»ºæœåŠ¡å™¨" class="headerlink" title="å¼€å§‹æ­å»ºæœåŠ¡å™¨"></a>å¼€å§‹æ­å»ºæœåŠ¡å™¨</h3><p>æœ‰äº†æœåŠ¡å™¨å°±èƒ½æœ‰çœŸçš„ç”¨æˆ·æ³¨å†Œï¼Œç™»å‡ºåŠŸèƒ½å•¦ï½</p>
<h4 id="æ–°å»ºä¸€ä¸ª-smartbrain-api-æ–‡ä»¶å¤¹"><a href="#æ–°å»ºä¸€ä¸ª-smartbrain-api-æ–‡ä»¶å¤¹" class="headerlink" title="æ–°å»ºä¸€ä¸ª smartbrain-api æ–‡ä»¶å¤¹"></a>æ–°å»ºä¸€ä¸ª smartbrain-api æ–‡ä»¶å¤¹</h4><ol>
<li>npm init</li>
</ol>
<p>å®‰è£…ä¸€äº›ä¾èµ–ï¼Œå¦‚expressï¼Œ nodemon ç­‰ ï¼ˆnpm install xxxï¼‰</p>
<p>![image-20201120220035314](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201120220035314.png)</p>
<p>Nodemon: automatically restarts node when file changes are detected in a directory. It replaces the word node when executing a script.<br>npm install â€“save-dev nodemon</p>
<ol start="2">
<li>åœ¨æ–‡ä»¶å¤¹é‡Œé¢æ–°å»ºä¸€ä¸ª server.js</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);<br><br><span class="hljs-keyword">const</span> app = express();<br><br>app.listen(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br><br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;3000&quot;</span>)<br>&#125;<br>)<br></code></pre></td></tr></table></figure>


<p>   åœ¨è„šæœ¬é‡Œé¢è®¾ç½®æ¯æ¬¡ npm start è‡ªåŠ¨å¯åŠ¨server.js</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">&quot;scripts&quot;: &#123;<br>  &quot;start&quot;: &quot;nodemon server.js&quot;<br>&#125;<br></code></pre></td></tr></table></figure>


<p>æœåŠ¡å™¨å°±æ­å¥½äº†ã€‚</p>
<h3 id="ç¡®å®šåç«¯-api-å…ƒç´ -é€šè¿‡çœ‹ä¸€ä¸‹å‰ç«¯é¡µé¢"><a href="#ç¡®å®šåç«¯-api-å…ƒç´ -é€šè¿‡çœ‹ä¸€ä¸‹å‰ç«¯é¡µé¢" class="headerlink" title="ç¡®å®šåç«¯ api å…ƒç´  - é€šè¿‡çœ‹ä¸€ä¸‹å‰ç«¯é¡µé¢"></a>ç¡®å®šåç«¯ api å…ƒç´  - é€šè¿‡çœ‹ä¸€ä¸‹å‰ç«¯é¡µé¢</h3><p>å‰ç«¯registeré¡µé¢æœ‰3ä¸ªå…ƒç´ </p>
<p>login é‡Œé¢æœ‰åå­—ï¼Œrankï¼Œä¸Šä¼ çš„å›¾ç‰‡æ•°</p>
<h4 id="åˆæ­¥çš„è®¾è®¡"><a href="#åˆæ­¥çš„è®¾è®¡" class="headerlink" title="åˆæ­¥çš„è®¾è®¡"></a>åˆæ­¥çš„è®¾è®¡</h4><p>// register â€“&gt; req: POST  res: user </p>
<p>// signin â€“&gt; req: POST  res: success/fail </p>
<p>// profile userId â€“&gt; GET res: user </p>
<p>// image â€“&gt; PUT (æ›´æ–°) res: user count </p>
<h3 id="å®ç°-api-å…ƒç´ "><a href="#å®ç°-api-å…ƒç´ " class="headerlink" title="å®ç° api å…ƒç´ "></a>å®ç° api å…ƒç´ </h3><p>æ—¢ç„¶å·²ç»ç¡®å®šäº†å‰ç«¯é¡µé¢å…ƒç´ ï¼Œç°åœ¨ä¸ç”¨ç®¡å‰ç«¯äº†ã€‚ç”¨postmanæ¥æ¨¡æ‹Ÿå‰ç«¯request ï¼Œå¹¶æ¥å—åç«¯response</p>
<h5 id="register"><a href="#register" class="headerlink" title="register"></a>register</h5><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">app.post(<span class="hljs-string">&quot;/register&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;email, name, password&#125; = req.body<br>    database.users.push(&#123;<br>        <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;125&quot;</span>,<br>        <span class="hljs-attr">name</span>: name,<br>        <span class="hljs-attr">email</span>: email,<br>        <span class="hljs-attr">password</span>: password,<br>        <span class="hljs-attr">entries</span>: <span class="hljs-number">0</span>,<br>        <span class="hljs-attr">joined</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()<br>    &#125;)<br>    res.json(database.users[database.users.length - <span class="hljs-number">1</span>])<br>    <br>&#125;)<br></code></pre></td></tr></table></figure>

<p>![image-20201202165908426](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201202165908426.png)</p>
<h5 id="signin"><a href="#signin" class="headerlink" title="signin"></a>signin</h5><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¦‚æœç”¨æˆ·psotçš„åœ¨æ•°æ®åº“é‡Œé¢ï¼Œå°±è¿”å›</span><br>app.post(<span class="hljs-string">&quot;/signin&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (req.body.email === database.users[<span class="hljs-number">1</span>].email &amp;&amp;<br>        req.password === database.users[<span class="hljs-number">1</span>].password)&#123;<br>            res.json(<span class="hljs-string">&quot;success&quot;</span>)<br>        &#125; <span class="hljs-keyword">else</span>&#123; <br>            res.status(<span class="hljs-number">400</span>).json(<span class="hljs-string">&quot;fail&quot;</span>)<br>        &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>



<h5 id="profile"><a href="#profile" class="headerlink" title="profile"></a>profile</h5><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œåªèƒ½è·å–åˆ°ç¬¬ä¸€ä¸ª 123</span><br>app.get(<span class="hljs-string">&quot;/profile/:id&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;id&#125; = req.params;<br>    <span class="hljs-keyword">let</span> found = <span class="hljs-literal">false</span><br>    database.users.forEach(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span> (user.id === id)&#123;<br>            found = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span> res.json(user);<br>        &#125; <br>        <span class="hljs-keyword">if</span> (!found)&#123;<br>            res.status(<span class="hljs-number">400</span>).json(<span class="hljs-string">&quot;not found&quot;</span>)      <br>        &#125;     <br>    &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>



<p>Image  for rank</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><br>app.put(<span class="hljs-string">&quot;/image&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;id&#125; = req.params;<br>    <span class="hljs-keyword">let</span> found = <span class="hljs-literal">false</span><br>    database.users.forEach(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span> (user.id === id)&#123;<br>            user.entries++;<br>            <span class="hljs-keyword">return</span> res.json(user.entries);<br>        &#125; <br>        <span class="hljs-keyword">if</span> (!found)&#123;<br>            res.status(<span class="hljs-number">400</span>).json(<span class="hljs-string">&quot;not found&quot;</span>)      <br>        &#125;     <br>&#125;)<br></code></pre></td></tr></table></figure>













<h3 id="ç”¨æˆ·å¯†ç å®‰å…¨ğŸ”"><a href="#ç”¨æˆ·å¯†ç å®‰å…¨ğŸ”" class="headerlink" title="ç”¨æˆ·å¯†ç å®‰å…¨ğŸ”"></a>ç”¨æˆ·å¯†ç å®‰å…¨ğŸ”</h3><p>è¿™ä¸ªé¡¹ç›®é‡Œç”¨ bcrypt-nodejs    å®é™…ç”¨bcrypt.js æˆ–è€… bcrypt</p>
<p>é€šè¿‡hash å¯¹ç”¨æˆ·å¯†ç åŠ å¯†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">We prefer bcrypt for three reasons:  1. bcrypt is 15 years old and has been vetted by the crypto community. Although argon2 won last yearâ€™s password hashing competition, it is still fairly new and we would like to see it have a longer lifespan in the crypto community.  2. scrypt is 7 years old and also a good choice, but bcrypt is a bit easier to implement in a node.js server with simpler documentation as you will see below in the example.  3. The bcrypt npm package is better over other bcrypt implementations available on npm since it is native, highly popular, and vetted by the community without trying to reinvent the wheel.<br><br>Now you might be asking yourself, why not just use a hashing function like SHA256, add a salt (randomly generated bytes to place in front of the password) for each user, and store those in a database? The problem with computing power increasing is that attackers can now use GPUs to try out passwords at over 100 million per second and see if they get a hit. Thatâ€™s why you want to use hash functions that were specifically designed to be slow. Although it is fast enough so the user wonâ€™t notice (about 100ms), it is long enough to make it infeasible for an attacker to try out a long list of passwords. bcrypt allows you to add a saltRound (10 is the recommended value) which iterates 2^10, or 1024 times over the password in a process called key stretching. Finally, bcrypt implementation is also safe from timing attacks. <br><br>---- udemy<br></code></pre></td></tr></table></figure>



<h3 id="è¿æ¥ä¸Šå‰ç«¯"><a href="#è¿æ¥ä¸Šå‰ç«¯" class="headerlink" title="è¿æ¥ä¸Šå‰ç«¯"></a>è¿æ¥ä¸Šå‰ç«¯</h3><p>å‰åç«¯åœ¨ç°å®ä¸­åº”è¯¥åœ¨ä¸åŒçš„ç”µè„‘ä¸Šã€‚</p>
<p>åç«¯ ç«¯å£ï¼š3000</p>
<p>å‰ç«¯ ç«¯å£ï¼š3001</p>
<p>å…ˆå¯åŠ¨åç«¯ï¼Œå†å¯åŠ¨å‰ç«¯ã€‚ä¼šæç¤ºæˆ‘portè¢«å ç”¨è¦ä¸è¦æ¢ï¼ŒæŒ‰yå°±ä¼šæ¢åˆ°æ–°ç«¯å£äº†ã€‚</p>
<h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p>åœ¨å‰ç«¯ fetch åç«¯æ ¹è·¯å¾„/çš„å“åº”ï¼Œå¹¶åœ¨æ¸²æŸ“çš„æ—¶å€™æ‰“å°å‡ºæ¥ã€‚</p>
<p>æ ¹è·¯å¾„åœ¨åç«¯è®¾ç½®è¿”å›çš„æ˜¯ç”¨æˆ·æ•°æ®ã€‚</p>
<p>å¯ä»¥åœ¨æµè§ˆå™¨é‡Œé¢çœ‹åˆ°æ‰“å°å‡ºäº†ç”¨æˆ·æ•°æ®ï¼Œè·å–æˆåŠŸï½</p>
<p>![image-20201204234706807](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201204234706807.png)</p>
<h4 id="å‰ç«¯ä»£ç æ”¹å†™"><a href="#å‰ç«¯ä»£ç æ”¹å†™" class="headerlink" title="å‰ç«¯ä»£ç æ”¹å†™"></a>å‰ç«¯ä»£ç æ”¹å†™</h4><p>Signin.js</p>
<p>Const æ”¹ä¸º classï¼Œ ç›®çš„æ˜¯èƒ½å¤ŸåŠ ä¸Šç›‘å¬è¾“å…¥æ¡†çŠ¶æ€çš„æ–¹æ³•ã€‚</p>
<p>å› ä¸ºè¿™äº›æ˜¯åªå’Œ signin æœ‰å…³çš„æ™ºèƒ½çŠ¶æ€ï¼Œå¯ä»¥å†™åœ¨ component-signin.js é‡Œé¢ã€‚ä¸ç”¨å†™åœ¨ app.js é‡Œé¢è®©ä»–å˜å¾—å¥½è‡ƒè‚¿ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">#å˜ä¸ºclassçš„æ“ä½œ<br>1. class Signin extends React.Component &#123;<br> render()&#123;<br> 	return()<br> &#125;<br>2. const &#123;onRouteChange&#125; = this.props;<br><br># çŠ¶æ€<br>1 constructor(props)&#123;<br>       super(props);<br>       this.state =  &#123;<br>           signInEmail:&quot;&quot;,<br>           signInPassword:&quot;&quot; <br>       &#125;<br>    &#125;<br><br> 2   onEmailChange = (event) =&gt; &#123;<br>        this.setState(&#123;signInEmail: event.target.value &#125;)<br>    &#125;<br><br>    onPasswordChange = (event) =&gt; &#123;<br>        this.setState(&#123;signInPassword: event.target.value &#125;)<br>    &#125;<br><br>    // ç®­å¤´å‡½æ•°ï¼šrenderçš„æ—¶å€™ä¸è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåªæœ‰å½“onClickçš„æ—¶å€™æ‰è°ƒç”¨<br>    onSubmitSignIn = () =&gt; &#123;<br>        console.log(this.state);<br>        this.props.onRouteChange(&quot;rankpage&quot;)<br>    &#125;<br>3 onChange=&#123;this.onEmailChange&#125;<br> onClick = &#123;this.onSubmitSignIn&#125;<br></code></pre></td></tr></table></figure>

<p>Q:  onSubmitSignIn doesnâ€™t work.</p>
<h4 id="ä¼ é€æ•°æ®åˆ°æœåŠ¡å™¨"><a href="#ä¼ é€æ•°æ®åˆ°æœåŠ¡å™¨" class="headerlink" title="ä¼ é€æ•°æ®åˆ°æœåŠ¡å™¨"></a>ä¼ é€æ•°æ®åˆ°æœåŠ¡å™¨</h4><p>ç”±å‰ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚</p>
<p>signin.js</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">// ç®­å¤´å‡½æ•°ï¼šrenderçš„æ—¶å€™ä¸è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåªæœ‰å½“onClickçš„æ—¶å€™æ‰è°ƒç”¨<br>    onSubmitSignIn = () =&gt; &#123;<br>        fetch(&quot;http://localhost:3000/signin&quot;,<br>        &#123;<br>            method:&quot;post&quot;,<br>            headers:&#123;&quot;Content-Type&quot;:&quot;application/json&quot;&#125;,<br>            body:JSON.stringify(&#123;<br>                email: this.state.signInEmail,<br>                password: this.state.signInPassword<br>            &#125;)<br><br>        &#125;)<br>        console.log(this.state);<br>        this.props.onRouteChange(&quot;rankpage&quot;)<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>Fetch å¤±è´¥ï¼Œè¿”å›404 not found</p>
<p>æ£€æŸ¥ç½‘ç»œï¼š å‘ç°æˆ‘æ˜æ˜å†™çš„æ–¹æ³•æ˜¯postï¼Œä¸ºå•¥å˜æˆäº†get</p>
<p>æˆ‘ç”¨postæµ‹åç«¯signinæ¥å£æ˜¯æ­£å¸¸çš„å‘€ã€‚</p>
<p>![image-20201205002832834](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205002832834.png)</p>
<h4 id="å…è®¸è·¨åŸŸè®¿é—®"><a href="#å…è®¸è·¨åŸŸè®¿é—®" class="headerlink" title="å…è®¸è·¨åŸŸè®¿é—®"></a>å…è®¸è·¨åŸŸè®¿é—®</h4><h5 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h5><p>by supporting CORS requests, superawesome.com can allow bob.com to access the data.</p>
<p>Read about it more at <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">MDNâ€™s great resource here</a>!</p>
<h5 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h5><p>Tips: å…ˆ ctrl c æ–­å¼€ nodemon è¿æ¥</p>
<p>npm install cors</p>
<p>const cors = require(â€œcorsâ€);</p>
<p>app.use(cors());</p>
<h4 id="å¸¸è§å¤±è´¥çš„è§£å†³æ–¹æ¡ˆ"><a href="#å¸¸è§å¤±è´¥çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¸¸è§å¤±è´¥çš„è§£å†³æ–¹æ¡ˆ"></a>å¸¸è§å¤±è´¥çš„è§£å†³æ–¹æ¡ˆ</h4><p>åœ¨åç«¯åŠ å…¥ æ‰“å°errorçš„ä»£ç ï¼Œå°±èƒ½æŸ¥çœ‹åˆ°å¤±è´¥çš„åŸå› ã€‚</p>
<p>å¦‚æœæ˜¯ type errorï¼šfail to fetch</p>
<p>å°±å¯èƒ½æ˜¯å“åº”å¤´æ²¡æœ‰å…è®¸åŒæºï¼Œ å³å‘é€è¯·æ±‚çš„åœ°å€ å’Œ å“åº”è¯·æ±‚çš„åœ°å€ ä¸ä¸€æ ·æ—¶ï¼Œfetch å°±ä¼šå¤±è´¥ã€‚</p>
<p>é—®é¢˜åŸå› ï¼šThe issue could be with the response you are receiving from back-end. If it was working fine on the server then the problem could be with the response headers. Check the <em>Access-Control-Allow-Origin</em> (ACAO) in the response headers. Usually reactâ€™s fetch API will throw fail to fetch even after receiving response when the response headersâ€™ ACAO and the origin of request wonâ€™t match. </p>
<p>è§£å†³æ–¹æ¡ˆï¼š  If the API is using <code>express</code> for node you can use the simple <code>cors</code> package. If you want to make your site properly secure, consider using a whitelist for the <code>Access-Control-Allow-Origin</code> header.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">// express ç‰ˆæœ¬<br><br>//è®¾ç½®è·¨åŸŸè®¿é—®<br>app.all(&#x27;*&#x27;, function(req, res, next) &#123;<br>    res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);<br>    res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With&quot;);<br>    res.header(&quot;Access-Control-Allow-Methods&quot;,&quot;PUT,POST,GET,DELETE,OPTIONS&quot;);<br>    res.header(&quot;X-Powered-By&quot;,&#x27; 3.2.1&#x27;)<br>    res.header(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);<br>    next();<br>&#125;);<br><br></code></pre></td></tr></table></figure>







<ul>
<li>å¿˜è®° npm install clarifai</li>
</ul>
<ul>
<li><p>App.js:140 SyntaxError: Unexpected token &lt; in JSON at position 0</p>
<p>è¯´æ˜è¿”å›çš„æ˜¯html é¡µé¢ã€‚å¯ä»¥ç”¨postman è¯•ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°é€šå¸¸æ˜¯å› ä¸ºæŸå˜é‡æ²¡æœ‰è¢«å£°æ˜ã€‚</p>
</li>
<li><p>DevTools failed to load SourceMap: Could not load content for chrome-extension://xxxxxxxxx/writer/js/angular-ui-router.js.map: HTTP error: status code 404, net::ERR_UNKNOWN_URL_SCHEME</p>
<p>Chrome ä¸Šçš„æ‹“å±•ç¨‹åºåŠ è½½é”™è¯¯ã€‚</p>
<p>å³ä¸Šè§’ä¸‰ç‚¹ - æ›´å¤šå·¥å…· - æ‹“å±•ç¨‹åºã€‚</p>
<p>æ‰¾åˆ° id æ˜¯ xxxxx çš„ç¨‹åºï¼Œæ¯”å¦‚æˆ‘å‡ºé”™çš„æ˜¯grammar for ginger ç¨‹åºã€‚</p>
<p>åŸæ¥æˆ‘æ¯æ¬¡è®¿é—®åç«¯ localhost:3000 çš„æ—¶å€™éƒ½è·‘åˆ°è¿™æ¥äº†ï¼ï¼ æ€ªä¸å¾—é¡µé¢å•¥ååº”ä¹Ÿæ²¡æœ‰ï¼Œæ§åˆ¶å°è¿”å› DevTools failed to load SourceMapï¼Œ çœŸæ˜¯å“­ç¬‘ä¸å¾—ã€‚ã€‚ã€‚</p>
<p>é‚£å°±å…ˆæŠŠå®ƒå¸è½½äº†å§ã€‚</p>
<p>![image-20201216190243433](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201216190243433.png)</p>
</li>
</ul>
<p>![image-20201216190432723](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201216190432723.png)</p>
<h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><h4 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>![image-20201205005239165](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205005239165.png)</p>
<p>brew update</p>
<p>brew install postgresql</p>
<p>å®‰è£…æˆåŠŸä¹‹åï¼Œå®‰è£…è·¯å¾„ä¸ºï¼š</p>
<p>/usr/local/var/postgres</p>
<p>å¯ä»¥ pull æœ€æ–°ç‰ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">brew postgresql-upgrade-database<br></code></pre></td></tr></table></figure>



<h4 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h4><p>brew services start postgresql</p>
<p>![image-20201205005554035](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205005554035.png)</p>
<p>createdb â€œsmartbrainâ€</p>
<h4 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h4><p>ä¸‹è½½å¯è§†åŒ–å›¾å½¢æ“ä½œç•Œé¢ Psequelã€‚</p>
<p>ç”¨ Psequel è¿æ¥æ•°æ®åº“ã€‚</p>
<p>å¦‚æœåœ¨è¿æ¥æœ¬åœ°çš„æ—¶å€™å‡ºé—®é¢˜ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs text"># 1 æ‰¾åˆ°å®ƒçš„åœ°å€<br>sudo find / -name &quot;postgresql.conf&quot;<br>/usr/local/var/postgres/postgresql.conf<br># 2<br>vim postgresql.conf<br>æŠŠ<br>listen_addresses = &#x27;localhost&#x27;<br>æ›¿æ¢æˆ<br>listen_addresses = &#x27;*&#x27;<br># 3<br>é‡å¯æœåŠ¡å™¨<br>brew services restart postgresql<br># æŸ¥çœ‹<br>netstat -nlt<br>â€œLocal Addressâ€ for port 5432 å˜æˆäº† 0.0.0.0.<br></code></pre></td></tr></table></figure>



<p>åˆ›å»ºè¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">CREATE TABLE users(<br>    id serial PRIMARY KEY,<br>    name VARCHAR(100),<br>    email text UNIQUE NOT NULL,<br>    entries BIGINT DEFAULT 0,<br>    joined TIMESTAMP NOT NULL<br>);<br><br>CREATE TABLE login(<br>    id serial PRIMARY KEY,<br>    hash VARCHAR(100),<br>    email text UNIQUE NOT NULL<br>    );<br></code></pre></td></tr></table></figure>



<p>è¿™æœ‰è¯¦ç»†çš„ postpresql è¯­æ³•æ•™ç¨‹ <a target="_blank" rel="noopener" href="https://www.postgresqltutorial.com/">https://www.postgresqltutorial.com/</a></p>
<h4 id="knex"><a href="#knex" class="headerlink" title="knex"></a>knex</h4><p>Js æ“ä½œæ•°æ®åº“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">Knex.js (pronounced /kÉ™ËˆnÉ›ks/) is a &quot;batteries included&quot; SQL query builder for Postgres, MSSQL, MySQL, MariaDB, SQLite3, Oracle, and Amazon Redshift designed to be flexible, portable, and fun to use. It features both traditional node style callbacks as well as a promise interface for cleaner async flow control, a stream interface, full featured query and schema builders, transaction support (with savepoints), connection pooling and standardized responses between different query clients and dialects.<br></code></pre></td></tr></table></figure>



<p>Npm install knex</p>
<p>npm install pg</p>
<p>å…·ä½“è¯­æ³•åœ¨å®˜ç½‘é‡Œæœ‰ã€‚</p>
<h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>è¿™æ ·å…¨ä¸–ç•Œéƒ½èƒ½è®¿é—®å•¦</p>
<h4 id="å·¥å…·é€‰æ‹©"><a href="#å·¥å…·é€‰æ‹©" class="headerlink" title="å·¥å…·é€‰æ‹©"></a>å·¥å…·é€‰æ‹©</h4><p>å¯ä»¥æœ‰ä»¥ä¸‹é€‰æ‹©ï¼Œåœ¨æ­¤ä½¿ç”¨herokuã€‚</p>
<p>![image-20201205152950920](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205152950920.png)</p>
<p>heroku éƒ¨åˆ†å¦‚æœæœ‰å•¥ä¸æ‡‚çš„ï¼Œç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£ <a target="_blank" rel="noopener" href="https://devcenter.heroku.com/articles/git">https://devcenter.heroku.com/articles/git</a></p>
<p><a target="_blank" rel="noopener" href="https://devcenter.heroku.com/articles/heroku-cli">https://devcenter.heroku.com/articles/heroku-cli</a></p>
<p>ã€å¿ƒå¾—: heroku å®˜ç½‘å†™çš„è¿˜ä¸é”™çš„ï¼Œ èƒ½çœ‹ä¸€æ‰‹çš„èµ„æ–™ï¼Œå°±ä¸è¦çœ‹ äºŒä¸‰æ‰‹ç»è¿‡åŠ å·¥çš„èµ„æ–™ğŸ’¾ã€‚ã€‘</p>
<h3 id="éƒ¨ç½²åç«¯"><a href="#éƒ¨ç½²åç«¯" class="headerlink" title="éƒ¨ç½²åç«¯"></a>éƒ¨ç½²åç«¯</h3><h4 id="heroku-åˆ›å»ºapp"><a href="#heroku-åˆ›å»ºapp" class="headerlink" title="heroku åˆ›å»ºapp"></a>heroku åˆ›å»ºapp</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs term">brew tap heroku/brew &amp;&amp; brew install heroku<br></code></pre></td></tr></table></figure>

<p>Heroku login -i</p>
<p>åˆ°æˆ‘çš„åç«¯æ–‡ä»¶å¤¹ï¼ˆsmart-brain-api) </p>
<p>Heroku create</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">Creating app... done, â¬¢ damp-eyrie-02199<br>https://damp-eyrie-02199.herokuapp.com/ | https://git.heroku.com/damp-eyrie-02199.git<br></code></pre></td></tr></table></figure>

<p>![image-20201205164210960](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205164210960.png)</p>
<p>Tips:</p>
<p>å»ºè®®æ–°å»ºå¥½å°±æ”¹æˆè‡ªå·±æƒ³è¦çš„åå­—ã€‚</p>
<p>ä¸ç„¶çš„è¯ï¼Œå»ºç«‹å¥½çš„è¿æ¥åˆè¦åˆ æ‰é‡æ–°å»ºç«‹ã€‚ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œå°±æ˜¯æ€•å¥½ä¸å®¹æ˜“æèµ·æ¥çš„è¿æ¥ï¼Œä¸‡ä¸€åˆå‡ºä»€ä¹ˆå¹ºè›¾å­è¿ä¸ä¸Šäº†ã€‚</p>
<p>æ”¹åæ–¹æ³•1:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">1.æ‰“å¼€ç»ˆç«¯ï¼Œç™»å½•herokuï¼Œåˆ‡æ¢åˆ°è¦ä¿®è¯¥çš„appä¸‹<br>2.æ‰§è¡Œheroku apps:rename xxx (xxxæ˜¯ä½ çš„appçš„æ–°åç§°ï¼‰<br>3.æ›´æ–°remoteï¼Œ<br>æ‰§è¡Œgit remote rm heroku<br>æ‰§è¡Œheroku git:remote -a xxx<br></code></pre></td></tr></table></figure>

<p>æ”¹åæ–¹æ³•2:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">1.æ‰“å¼€herokuçš„ç½‘å€ï¼Œå¹¶ç™»å½•<br>2.æ‰¾åˆ°ä½ è¦ä¿®æ”¹çš„appçš„åå­—ï¼Œç‚¹å‡»è¿›å…¥<br>3.ç‚¹å‡»setting<br>4.ä¿®æ”¹åå­—ï¼ˆåªæ”¯æŒå°å†™å­—æ¯ã€æ•°å­—å’Œç ´æŠ˜å·ï¼‰<br>5.æ›´æ–°remote<br>ï¼ˆ1ï¼‰æ‰“å¼€ç»ˆç«¯iterm<br>ï¼ˆ2ï¼‰è¾“å…¥heroku login, è¾“å…¥emailå’Œpasswordè¿›è¡Œç™»å½•<br>ï¼ˆ3ï¼‰æ‰§è¡Œgit remote rm heroku<br>git remote -v<br>git remote add heroku https://git.heroku.com/XXXXX.gitï¼ˆXXXXXè¯·æ¢æˆä¿®æ”¹åçš„herokuåå­—ï¼‰<br>git push heroku ä½ çš„æœ€æ–°åˆ†æ”¯:master<br></code></pre></td></tr></table></figure>







<p>Heroku open -a appåå­—ï¼Œå¦‚damp-eyrie-02199</p>
<p>![image-20201205172459961](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205172459961.png)</p>
<p>æˆåŠŸæ‰“å¼€ï½</p>
<h4 id="ä¸-GitHub-å»ºç«‹è¿æ¥"><a href="#ä¸-GitHub-å»ºç«‹è¿æ¥" class="headerlink" title="ä¸ GitHub å»ºç«‹è¿æ¥"></a>ä¸ GitHub å»ºç«‹è¿æ¥</h4><p>åœ¨github æ–°å»ºä¸€ä¸ªä»“åº“ smart-brain</p>
<p>è¿˜æ˜¯åœ¨æˆ‘çš„åç«¯æ–‡ä»¶å¤¹ï¼ˆsmart-brain-api) </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">git init<br>git add .<br>git commit -m &quot;smart&quot;<br><br>git remote add origin https://github.com/wenjialu/smart-brain.git<br>git push --set-upstream origin master<br></code></pre></td></tr></table></figure>

<p>GitHub è”ç³»ä¸Šherokuï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">heroku git:remote -a åˆšåˆšåˆ›çš„appåå­—ï¼Œå¦‚damp-eyrie-02199<br></code></pre></td></tr></table></figure>

<h5 id="è¿æ¥æˆåŠŸï½"><a href="#è¿æ¥æˆåŠŸï½" class="headerlink" title="è¿æ¥æˆåŠŸï½"></a>è¿æ¥æˆåŠŸï½</h5><p>git remote -v æŸ¥çœ‹ä¸‹ï¼Œå¦‚æœheroku å’Œ github çš„ä»“åº“éƒ½å¯¹äº†å°±æ˜¯æˆåŠŸå•¦ï½</p>
<p>![image-20201205174240762](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205174240762.png)</p>
<p>æˆ‘ä¹‹å‰ç”¨è¿‡herokuäº†ï¼Œç°åœ¨è¦é‡å‘½å</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs term">heroku git:remote -a infinite-hamlet-23870<br>git remote rename heroku heroku-staging<br></code></pre></td></tr></table></figure>



<h4 id="ä¸Šä¼ åˆ°heroku"><a href="#ä¸Šä¼ åˆ°heroku" class="headerlink" title="ä¸Šä¼ åˆ°heroku"></a>ä¸Šä¼ åˆ°heroku</h4><p>ä¸Šä¼ åˆ°heroku å•¦ï¼Œè§ä¸‹ï¼š</p>
<h5 id="Deploying-code"><a href="#Deploying-code" class="headerlink" title="Deploying code"></a><a target="_blank" rel="noopener" href="https://devcenter.heroku.com/articles/git#deploying-code">Deploying code</a></h5><p>To deploy your app to Heroku, you typically use the <code>git push</code> command to push the code from your local repositoryâ€™s <a target="_blank" rel="noopener" href="https://devcenter.heroku.com/articles/git-branches">master or main branch</a> to your <code>heroku</code> remote, like so:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs term"># mastet æˆ–è€… main è¦æ ¹æ®å®é™…æƒ…å†µ<br>$ git push heroku master<br>Initializing repository, done.<br>updating &#x27;refs/heads/master&#x27;<br>...<br></code></pre></td></tr></table></figure>



<h4 id="æŸ¥çœ‹æˆåŠŸäº†æ²¡"><a href="#æŸ¥çœ‹æˆåŠŸäº†æ²¡" class="headerlink" title="æŸ¥çœ‹æˆåŠŸäº†æ²¡"></a>æŸ¥çœ‹æˆåŠŸäº†æ²¡</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs term">heroku open<br></code></pre></td></tr></table></figure>

<p>æ£€æŸ¥å‡ºé”™åŸå› </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">heroku logs --tail<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡æ—¥å¿—æˆ‘å‘ç° herokuä¼šä¸ºæˆ‘çš„appè®¾ç½®åŠ¨æ€ç«¯å£ï¼ˆHeroku dynamically assigns your app a portï¼‰ï¼Œæˆ‘è¦æŠŠå†™æ­»çš„3000 ç«¯å£æ”¹æ‰ã€‚</p>
<p>Heroku adds the port to the env, so you can pull it from there. Switch my listen to this:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">.listen(process.env.PORT || <span class="hljs-number">3000</span>)<br></code></pre></td></tr></table></figure>

<p>åœ¨åç«¯æ–‡ä»¶å¤¹è·¯å¾„ä¸‹ï¼Œç»ˆç«¯è¾“å…¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">PORT=5000 node server.js<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¿”å›5000 å•¦</p>
<p>ä¿®æ”¹å®Œäº†åˆ«å¿˜è®°ä¸Šä¼ åˆ°git å’Œ heroku</p>
<p>![image-20201205182211270](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205182211270.png)</p>
<p>å“ˆå“ˆå“ˆå“ˆï½ æˆåŠŸäº†å“¦ï½</p>
<h3 id="éƒ¨ç½²å‰ç«¯"><a href="#éƒ¨ç½²å‰ç«¯" class="headerlink" title="éƒ¨ç½²å‰ç«¯"></a>éƒ¨ç½²å‰ç«¯</h3><p>ç”¨åŒæ ·çš„æ–¹æ³•éƒ¨ç½²å‰ç«¯ã€‚</p>
<p>![image-20201205192330279](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201205192330279.png)</p>
<p><strong>ä¿®å¤bug</strong></p>
<p>æç¤º1: node å’Œnpm version éœ€è¦æŒ‡å®š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">node --version<br>v12.13.1<br>npm -v<br></code></pre></td></tr></table></figure>

<p>åœ¨ package.jsoné‡Œé¢æ·»åŠ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">&quot;engines&quot;: &#123;<br>    &quot;node&quot;: &quot;12.13.1&quot;,<br>    &quot;npm&quot;: &quot;6.14.8&quot;<br>  &#125;,<br></code></pre></td></tr></table></figure>



<p>æç¤º2: ä¾èµ–ä¸­ç¼ºå°‘æ¨¡å—</p>
<p>Tachyon æ¨¡å—ç¼ºå°‘ã€‚</p>
<p>æ‰“å¼€å®ƒç»™å‡ºçš„å®˜æ–¹ç½‘å€ï¼Œæ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆ</p>
<p><a target="_blank" rel="noopener" href="https://devcenter.heroku.com/articles/troubleshooting-node-deploys">https://devcenter.heroku.com/articles/troubleshooting-node-deploys</a></p>
<p><a target="_blank" rel="noopener" href="https://help.heroku.com/n/13/general-platform-features/builds">https://help.heroku.com/n/13/general-platform-features/builds</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext"># é‡è¦ï¼ï¼<br>In order create a smaller slug size for apps, the buildpack will prune out the devDependencies from the package.json at the end of the build, so that the slug will only include the dependencies that are listed at runtime. If there is a dependency that is in the devDependencies that is needed after the prune occurs, <br><br>move the dependency to dependencies, so it is not removed.<br>or <br>heroku config:set NPM_CONFIG_PRODUCTION=false<br></code></pre></td></tr></table></figure>



<p>ä¸çŸ¥é“ä¸ºå•¥ Tachyon æ¨¡å—ä¸è§äº†ã€‚</p>
<p>âš ï¸ æˆ‘æ‰“å¼€æœ¬åœ° package.json å¥½å¤šæ¨¡å—ç«Ÿç„¶éƒ½æ˜¾ç¤ºæ²¡æœ‰å®‰è£…ï¼Œéå¸¸å¥‡æ€ªã€‚</p>
<p>åªèƒ½å…¨éƒ¨é‡æ–°å®‰è£…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">npm install tachyon <br><br>npm shrinkwrap<br>äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„lockfile, ç„¶åå†æäº¤ã€‚ (äº²æµ‹äº†ä¸¤ä¸ªé¡¹ç›®éƒ½ä¸ç”¨lockåè€ŒæˆåŠŸäº†ï¼Œæ‰€ä»¥æŠŠè¿™ä¸ª lockfile åˆ å…‰å…‰ï¼Œé‡æ–°æäº¤gitï¼Œå°±æˆåŠŸå•¦)<br></code></pre></td></tr></table></figure>



<p>è£…å¥½ååœ¨dependencies é‡Œé¢å¯ä»¥çœ‹åˆ°å®ƒåˆå‡ºç°å•¦ã€‚</p>
<p>![image-20201206001834886](/Users/lujiawen/Library/Application Support/typora-user-images/image-20201206001834886.png)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">npm install package-lock.json<br><br>heroku buildpacks:set heroku/nodejs<br><br>npm shrinkwrap<br></code></pre></td></tr></table></figure>



<p>â€‹    </p>
<p>ä¿®å¤ npm å’Œ yarn çš„å†²çªã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">git rm yarn.lock<br>git commit -m &quot;Remove yarn lock file&quot;<br>git push --set-upstream origin master<br></code></pre></td></tr></table></figure>

<p>å¦‚æœ git åˆ†æ”¯å‡ºäº†é—®é¢˜ï¼Œè§æˆ‘ git ç¯‡æ›´æ–°éƒ¨åˆ† <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/290333697">https://zhuanlan.zhihu.com/p/290333697</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext"># æ³¨æ„ï¼ æ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µé€‰æ‹© mainï¼Œmaster<br>git push heroku main<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">remote:  ! We have detected that you have triggered a build from source code with version ed530c8d0de5c0f450d117595c65a054dfc9cbe8<br>remote:  ! at least twice. One common cause of this behavior is attempting to deploy code from a different branch.<br>remote:  !<br>remote:  ! If you are developing on a branch and deploying via git you must run:<br>remote:  !<br>remote:  !     git push heroku &lt;branchname&gt;:main<br>remote:  !<br>remote:  ! This article goes into details on the behavior:<br>remote:  !   https://devcenter.heroku.com/articles/duplicate-build-version<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs plaintext">git push heroku main:main<br></code></pre></td></tr></table></figure>





<h3 id="éƒ¨ç½²æ•°æ®åº“"><a href="#éƒ¨ç½²æ•°æ®åº“" class="headerlink" title="éƒ¨ç½²æ•°æ®åº“"></a>éƒ¨ç½²æ•°æ®åº“</h3>
                </section>

                
                
    <div id="al_gitalk_cnt">
    <script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <script>
        var gitalk = new Gitalk({
            clientID: "4d138679689d4087f0cb",
            clientSecret: "c21b2ec49a7736e5ee5c781e3ff28989cafd7ed7",
            repo: "hexo-blog",
            owner: "wenjialu",
            admin: "wenjialu",
            id: "SmartBrain -  ç”¨ React åšä¸€ä¸ªäººè„¸è¯†åˆ«ç½‘ç«™",
        });
        gitalk.render("al_gitalk_cnt")
    </script>
                

            </article>

            
            <nav class="dis_flex al_post_nav">
                <a class="al_post_nav_item dis_flex_acenter" href="/hexo-blog/">
                    
                </a>
                <a class="al_post_nav_item dis_flex_acenter" href="/hexo-blog/2021/12/13/react%20%20%E5%BB%BA%E9%80%A0%E6%9C%BA%E5%99%A8%E4%BA%BA%F0%9F%A4%96%EF%B8%8F%E7%BD%91%E7%AB%99/">
                    
                        <span class="al_text_ellipsis al_post_nav_desc">ã€æ‰‹æŠŠæ‰‹æ•™å­¦ã€‘ç”¨å‰ç«¯ react æ¥åšä¸€ä¸ªæœºå™¨äººğŸ¤–ï¸ç½‘ç«™</span>
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-right"></use>
                        </svg>
                    
                </a>
            </nav>
        </div>
    </div>


        <div class="al_index_footer dis_flex_center">
    <div class="al_index_footer_item al_index_footer_title">
        wenjia lu
    </div>

    
    
        <div class="al_index_footer_item" onclick="window.open('http://www.beian.miit.gov.cn')")>
            Fill IPCLicense
        </div>
    

    <div class="al_index_footer_item al_index_footer_extra">
        Created By 
        <a target="_blank" rel="noopener" href="https://github.com/iGuan7u/Acetolog">AcetoLog</a>
         Â· Power By 
        <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
    </div>

    <div class="al_index_footer_item al_index_footer_extra_right">
        All Right Reserved
    </div>
</div>

        <script type="text/javascript" async="async" src="/hexo-blog/javascripts/acelog.js"></script>
        
    <script src="//pingjs.qq.com/h5/stats.js?v2.0.4"
        name=mta_analytics_name
        sid=mta_analytics_sid></script>

        
        
    <script src="//www.googletagmanager.com/gtag/js?id=google_tracking_id"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);};gtag('js', new Date());gtag('config', '${theme.google_analytice.tracking_id}');</script>

        
    <script
        src=extra_plugin_js_url
        async="async"
    ></script>
    </body>
</html>
        